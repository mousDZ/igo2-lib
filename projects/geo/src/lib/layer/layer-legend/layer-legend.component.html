<small *ngIf="legend.length === 0">
  {{'igo.geo.layer.noLegendText' | translate}}
</small>

<ng-template ngFor let-item [ngForOf]="legend">
  <mat-list-item *ngIf="item.title">
    <mat-icon
      id="legend-toggle"
      class="igo-chevron"
      mat-list-avatar
      igoCollapse
      [target]="legend"
      [collapsed]="false">
    </mat-icon>
    <h4 matLine>{{item.title}}</h4>
  </mat-list-item>
  <mat-list-item>
    <mat-select tooltip-position="below" matTooltipShowDelay="500" [matTooltip]="'igo.geo.sourceFields.selectField' | translate"
      [(ngModel)]="currentWmsStyle" (selectionChange)="changeStyle()">
      <mat-option *ngFor="let style of listStyles()" [value]="style.name">{{style.title}}</mat-option>
    </mat-select>
  </mat-list-item>
  <div #legend class="igo-layer-legend" [ngClass]="{'with-title': item.title}">
    <img
      *ngIf="item.url"
      src="{{(item.url | secureImage) |Â async}}"
      alt="{{'igo.geo.layer.loadingLegendText' | translate}}">
    <div
      [ngStyle]="item.style"
      [innerHTML]="item.html"
      *ngIf="item.html">
    </div>
  </div>
</ng-template>
